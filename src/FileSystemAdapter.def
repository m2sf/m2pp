(*!m2pim*) (* Copyright (c) 2017 Modula-2 Software Foundation *)

DEFINITION MODULE FileSystemAdapter;

(* Filesystem interface *)

TYPE Status = (
  Success,           (* successful completion *)
  FileNotFound,      (* attempt to rename or delete a non-existing file *)
  FileAlreadyExists, (* attempt to create or rename to an existing file *)
  Failure );         (* any other failure *)
  

PROCEDURE fileExists ( path : ARRAY OF CHAR ) : BOOLEAN;
(* Returns TRUE if the file at the given path exists, else FALSE. *)


PROCEDURE CreateFile ( path : ARRAY OF CHAR; VAR status : Status );
(* Creates a new file with the given pathname and passes back status. *)


PROCEDURE RenameFile ( path, newPath : ARRAY OF CHAR; VAR status : Status );
(* Renames the file at path to newPath and passes back status. *)


PROCEDURE DeleteFile ( path : ARRAY OF CHAR; VAR status : Status );
(* Deletes the file at path and passes back status. *)


END FileSystemAdapter.